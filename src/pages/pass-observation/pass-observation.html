<!--
  Generated template for the WorkPage page.
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<ion-navbar hideBackButton color="lightgreen" >
   <ion-title class="text-center" color="white">Remarks</ion-title>
   <ion-buttons start class="back-btn">
		   <button (click)="goBack()">
			   <ion-icon name="md-arrow-back" color="white"></ion-icon>
		   </button>
	   </ion-buttons>



 </ion-navbar>
 <ion-navbar>
   <!-- <div justify-content-center class="divnavbutton"> -->
   <ion-grid>
	 <ion-row nowrap align-items-center justify-content-center class="header-home ion-col-pad-set">
	   <ion-col col-4>
		 <button ion-button color="light"style="text-transform: none;" class="navbutton" (click)="profileLoad()" small text-wrap>Profile Information</button>
	   </ion-col>
	   <ion-col col-4>
		 <button ion-button color="light"style="text-transform: none;" class="navbutton" (click)="informationLoad()" small text-wrap>Information</button>
	   </ion-col>
	   <ion-col col-4>
		 <button ion-button color="light"style="text-transform: none;" class="navbutton" (click)="previousLoad()" small text-wrap> Previous Inspections</button>
	   </ion-col>
	 </ion-row>
   </ion-grid>
   <!-- </div> -->
 </ion-navbar>
</ion-header>

<ion-content padding class="bg-none" *ngIf="this.observation" >
 <ion-grid>
   <ion-row class="safety-div">
  <ion-col col-1> 	
  </ion-col>
  <ion-col col-10>
	  <p class="text-center" style="font-size: 15px;">You have passed this work equipment and have deemed it safe to use, but there are observations to note.   </p>

   </ion-col>
   <ion-col col-1>
   </ion-col>
   <ion-col col-12>
	   <ion-row>
		   <ion-col col-12>
			   <ion-label color="lightgreen" class="text-center">PASS BUT WITH AN OBSERVATION</ion-label>
		   </ion-col>
	   </ion-row>
	<form  [formGroup]="resultForm" (ngSubmit)="SubmitInspection(resultForm.value)">
	   <ion-row>
		   <ion-col col-2>
		   </ion-col>

		   <ion-col col-12>
			   
						   
					 <textarea 
						   style="width: 100%"
							 [(ngModel)]="observation_desc" 
							 name="observation_desc" 
							 autocomplete="on" 
							 autocorrect="on" 
							 #msgInput 
							 rows="10" 
							 [formControl]="resultForm.controls['description']" 
							 maxLength="500" 
							 placeholder="Observation Description"></textarea>
			   
			   <!-- #msgInput rows="1" maxLength="500" name="description" [(ngModel)]="description" placeholder="Observation Description"> -->
	
		   </ion-col>
		   <ion-col col-12 
		   class="error-box" 
		   *ngIf="resultForm.controls['description'].hasError('required') && resultForm.controls['description'].touched">
		   <div text-wrap class="text-center text-wrap" style="font-size: 15px;"> * Equipment Description is <br/>required</div>
	   </ion-col>
	   <ion-col col-2></ion-col>
	   <ion-col col-12>
			   <div text-wrap class="text-center text-wrap" style="font-size: 15px;"> * Maximun characters allowed: <br/>500!</div>
		   </ion-col>

		   <ion-col col-2></ion-col>
	   </ion-row>
	   
	   <ion-row>
		   <ion-col col-12>
			   <button  style="font-size: 15px;" ion-button type="button" style="text-transform: none;" full color="greyblue" (click)="openSignatureModel()">
				   Signature (Unique Identity)
			   </button>
			   
		   </ion-col>
		   <ion-col>
			<div><img [src]="signatureImage" *ngIf="signatureImage" /></div>
		   </ion-col>
		   <ion-col *ngIf="!signatureImage" col-12 class="error-box" >
			   <div text-wrap class="text-center text-wrap"> * Signature is required</div>
		   </ion-col>
	   </ion-row>

	   <ion-row>
		   <ion-col col-2>
		   </ion-col>

		   <ion-col col-8>
				   <p style="font-size: 15px;" class="text-center">Add photo of the work equipment. </p>
		   </ion-col>

		   <ion-col col-2>
		   </ion-col>
	   </ion-row>
	   <ion-row>
		   <ion-col col-2>
		   </ion-col>

		   <ion-col col-8>
			   <div>
				   <img *ngIf="imageUpload == true" [src]="base64Image" width="100%" height="100"  (click)="presentActionSheet()" /> 
			   </div> 
			   <img *ngIf="imageUpload == false || base64Image == ''" width="100%" height="100" (click)="presentActionSheet()" src="./assets/imgs/company-logo.png" />
			   
		   </ion-col>

		   <ion-col col-2>
		   </ion-col>
	   </ion-row>
  
	   <ion-row>
		   <ion-col col-2>
		   </ion-col>

		   <ion-col col-8>
				   <!-- (click)="SubmitInspection()" -->
			   <button  style="text-transform: none;"  ion-button block type="submit" name="create-inspection-submit" full [disabled]="!resultForm.valid || !signatureImage || !base64Image"  color="white">Save and finish inspection</button>

		   </ion-col>

		   <ion-col col-2>
		   </ion-col>
	   </ion-row>
	   </form>
   </ion-col>
   </ion-row>
   
 </ion-grid>
</ion-content>


<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<ion-content padding class="bg-none" *ngIf="this.safe" >
 <ion-grid class="customPassed">
		<ion-row class="safety-div">
	 <ion-col>
		 <p style="font-size: 15px;" class="text-center">You have passed this work equipment and have deemed it safe to use.  </p>
	</ion-col>
	 </ion-row> 
	 <ion-row>
	<ion-col>
		<ion-row>
			<ion-col>
				<ion-label style="font-size:15px;" color="lightgreen" class="text-center">PASSED AND IS SAFE TO USE</ion-label>
			</ion-col>
		 </ion-row>
		<ion-row>
			<ion-col class="inspection-new text-center">		
			   <button  class="inspect-btn" ion-button full style="text-transform: none;" color="grey" (click)="openSignatureModel()">
				   Signature (Unique Identity)
			   </button> 
			</ion-col>
		
		</ion-row>
		<ion-row>
				<ion-col *ngIf="!signatureImage" col-12 class="error-box" >
						<div text-wrap class="text-center text-wrap"> * Signature is required</div>
					</ion-col>
		</ion-row>
		<ion-row>
				<div><img [src]="signatureImage" *ngIf="signatureImage" /></div>
		</ion-row>
		<ion-row>
			<ion-col class="inspection-new text-center">
				<button class="inspect-btn" name="create-inspection-submit"  style="text-transform: none;"ion-button text-wrap small (click)="SubmitInspection('values')" [disabled]="!signatureImage" color="white">Safe and finish inspection</button>
			</ion-col>
		</ion-row>
	</ion-col>
		</ion-row>
	</ion-grid>
</ion-content>
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->

<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////// -->
<ion-content padding class="bg-none" *ngIf="this.critical" >
 <ion-grid class="customSafetyCritical">
   <ion-row class="safety-div">
		<ion-col style="text-align: center;" col-12>
		<p class="text-center">You have failed this work equipment and have deemed it un-safe to use. DO NOT USE. It is advised that the work equipment is isolated and removed from service until it can be made safe.  </p>
		</ion-col>
   </ion-row>
   <ion-row>
	<ion-col col-12>
		<ion-label color="lightgreen" class="text-center">FAIL DUE TO SAFETY CRITICAL ISSUE</ion-label>
	</ion-col>
   </ion-row>
   <ion-row>
	   <ion-col col-12> 
		<form  [formGroup]="resultForm" (ngSubmit)="SubmitInspection(resultForm.value)">
				
			<ion-row justify-content-center>
				<ion-col col-12>
					<ion-textarea 	[(ngModel)]="observation_desc" 
					name="observation_desc" 
					autocomplete="on" 
					autocorrect="on" 
					#msgInput 
					rows="1" 
					[formControl]="resultForm.controls['description']" 
					maxLength="500" 
					placeholder="Failure Description">></ion-textarea>
				</ion-col>   
				<ion-col col-8
				class="error-box" 
				*ngIf="resultForm.controls['description'].hasError('required') && resultForm.controls['description'].touched">
				<div text-wrap class="text-center text-wrap"> * Equipment Description is required</div>
			</ion-col>
			<ion-col col-8>
					<div text-wrap class="text-center text-wrap"> * Maximun characters allowed: 500!</div>
				</ion-col>
			</ion-row>
			
			<ion-row>
				<ion-col col-2>
				</ion-col>
	 
				<ion-col col-8>
					<button  style="text-transform: none;" ion-button type ="button" full color="greyblue" (click)="openSignatureModel()">
						Signature (Unique Identity)
					</button>
					<div><img [src]="signatureImage" *ngIf="signatureImage" /></div>
				</ion-col>
				<ion-col *ngIf="!signatureImage" col-12 class="error-box" >
					<div text-wrap class="text-center text-wrap"> * Signature is required</div>
				</ion-col>
	 
				<ion-col col-2>
				</ion-col>
			</ion-row>
	 
			<ion-row>
				<ion-col col-2>
				</ion-col>
	 
				<ion-col col-8>
						<p class="text-center">Add photo of the work equipment. </p>
				</ion-col>
	 
				<ion-col col-2>
				</ion-col>
			</ion-row>
			<ion-row justify-content-center>
			<ion-col col-8>
				 <div>
					 <img *ngIf="imageUpload == true" [src]="base64Image" width="100%" height="100"  (click)="presentActionSheet()" /> 
				 </div> 
				 <img *ngIf="imageUpload == false || base64Image == ''" width="100%" height="100" (click)="presentActionSheet()" src="./assets/imgs/company-logo.png" />
				 
			 </ion-col>
			</ion-row>
	   
			<ion-row>
				<ion-col col-2>
				</ion-col>
	 
				<ion-col col-8>
					<button style="text-transform: none;" ion-button type="submit" name="create-inspection-submit" full [disabled]="!resultForm.valid || !signatureImage || !imageUpload" block color="white">Save and finish inspection</button>
	 
				</ion-col>
	 
				<ion-col col-2>
				</ion-col>
			</ion-row>
			</form>
		</ion-col>
	  
   </ion-row>

 </ion-grid>
</ion-content>